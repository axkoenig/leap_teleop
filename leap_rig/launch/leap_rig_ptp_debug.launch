<?xml version="1.0"?>
<launch>
    <!-- DESCRIPTION: feeds the PTP control node with leap motion data. -->
    
    <!-- view frames in rviz -->
    <arg name="visualisation" default="false"/>

    <!-- load leap motion driver launch fie -->
    <rosparam file="$(find leap_motion)/config/listener_params.yaml" command="load" />
    <node pkg="leap_motion" type="leap_motion_driver_node" name="leap_driver" output="screen" />

	<!-- load takktile hand driver launch file -->
	<include file="$(find reflex)/launch/reflex_takktile.launch"/>

	<!-- launch leap hand node -->
    <node name="leap_hand_node" pkg="leap_hand" type="leap_hand.py" output="screen">
		<!-- if param True, node runs without listening to boolean flag on ROS network. -->
    	<param name="hand_only" type="bool" value="False"/>
	</node>

    <!-- load parameters to parameter server -->
    <group ns="kuka">
        <rosparam file="$(find kuka_control)/config/kuka_params_ptp.yaml"/>
    </group>
    <group ns="leap">
        <rosparam file="$(find leap_kuka)/config/leap_params.yaml"/>
    </group>

	<!-- launch leap kuka node -->
    <node name="leap_kuka_node" pkg="leap_kuka" type="leap_kuka.py" output="screen"/>
	
    <group if="$(arg visualisation)">
        <node pkg="rviz" type="rviz" name="rviz" args="-d $(find leap_kuka)/rviz/view_frames.rviz"/>
    </group>
    
</launch>