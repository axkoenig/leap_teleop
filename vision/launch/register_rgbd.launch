<?xml version="1.0"?>
<launch>

    <!-- load openni2 launch file -->
    <include file="$(find openni2_launch)/launch/openni2.launch">
        <arg name="publish_tf" default="true" />
        <arg name="depth_registration" default="true" doc="Hardware depth registration" />
    </include>

    <node pkg="nodelet" type="nodelet" args="manager" name="manager_nodelet" output="screen"/>
  
    <node pkg="nodelet" type="nodelet" name="point_cloud_xyzrgb_nodelet" 
        args="load depth_image_proc/point_cloud_xyzrgb manager_nodelet --no-bond">
        <remap from="depth_registered/image_rect" to="/camera/depth_registered/sw_registered/image_rect"/>
        <remap from="depth_registered/points" to="/camera/depth_registered/points"/>
        <remap from="rgb/image_rect_color" to="camera/rgb/image_rect_color"/>
        <remap from="rgb/camera_info" to="camera/rgb/camera_info"/>
    </node>

    <node pkg="rviz" type="rviz" name="rviz" args="-d $(find vision)/rviz/register_rgbd.rviz"/>
</launch>
